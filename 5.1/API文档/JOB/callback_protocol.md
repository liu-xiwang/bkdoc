
### 请求地址

/api/c/compapi/v2/job/callback_protocol/



### 请求方法

POST


### 功能描述

此组件仅用于展示回调协议文档

对作业执行类的请求传入的回调bk_callback_url地址进行回调时所传递的报文结构描述

### 请求参数

| 字段   |  类型      | 必选   |  描述      |
|-----------------|------------|--------|------------|
| job_instance_id | int       | 是     | 作业实例ID |
| status          | int       | 是     | 作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败 |
| step_instances  | array     | 是     | 步骤块中包含的各个步骤执行状态 |

#### step_instances

| 字段   |  类型      | 必选   |  描述      |
|-----------------|------------|--------|------------|
| step_instance_id | int    | 是     | 作业步骤实例ID |
| status           | int    | 是     | 作业步骤状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败 |

### 请求参数示例

```python
{
    "job_instance_id": 12345,
    "status": 2,
    "step_instances": [
        {
            "step_instance_id": 16271,
            "status": 3
        },
        {
            "step_instance_id": 16272,
            "status": 2
        }
    ]
}
```

### 回调响应

回调成功以HTTP状态为准，如果成功，则状态码200，其他表示失败，Job会对失败的做一次重试，如还失败，则忽略失败，不再回调。