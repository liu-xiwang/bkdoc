
#### 版本详情
- 版本类型：release
- 版本号：5.1
- 发布日期：敬请期待


## 后台模块 （基础包） 

|     子模块     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
|      gse       | 3.4.7   |        管控平台         |
|      cmdb      | 3.2.15   |        配置平台         |
|      job       | 5.0.20  |        作业平台         |
|   open_paas    | 3.2.519 |        PaaS平台         |
|   paas_agent   | 3.1.0202 |        PaaS平台         |
|    license     | 3.1.4  |        证书服务         |
| bkdata/dataapi | 1.3.31  |  数据基础模块API服务     |
| bkdata/databus | 1.2.33  |  数据基础模块总线服务     |
| bkdata/monitor | 2.5.27  |    蓝鲸监控后台模块      |
|      fta       |  5.1.38 |    故障自愈后台模块      |
|      src       | 5.1     |      整包版本信息        |

## 后台模块（增强包）

|   子模块       | 版本号  |    备注                  |
|:--------------:|:-------:|:----------------------:|
|     iam        |  0.0.13 |    权限中心后台模块      |
|   thanos       |  1.0.14  |    容器监控后台thanos模块  |
|   bcs/cc       |  1.0.10  |    容器服务配置中心      |
|   bcs/grafana  |  1.0.15 |    容器监控后台grafana模块  |
|   bcs/monitor  |  1.0.15 |     容器服务监控          |
|   bcs/server   | 1.13.3  |     容器服务后台模块   |
|bcs/web_console |  1.0.17 | 容器服务后台web console模块 |
|      devops    | 1.0.20  |        容器管理平台导航  |
|  harbor/api    |  1.0.4  | Harbor容器镜像仓库API服务 |
| harbor/server  |  1.7.5  | Harbor容器镜像仓库服务   |

## 后台模块（合作商软件包）
|   子模块       | 版本号  |    备注                  |
|:--------------:|:-------:|:----------------------:|
|   bknetwork    |  3.6.1  | 网络管理，可源科技提供    |

## SaaS应用 （基础包） 

|     SaaS     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
|  bk_nodeman     | 1.2.13   |    节点管理         |
| bk_fta_solutions| 5.1.36   |   故障自愈         |
|  bk_monitor     | 2.5.96  |    蓝鲸监控        |
|  bk_log_search   | 2.1.59 |    日志检索         |
|   bk_sops   | 3.3.18 |       标准运维         |

## SaaS应用 （增强包）

|     SaaS     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
| bk_iam_app | 0.0.10   |  权限中心     |
| bk_bcs_app | 1.0.16 | 容器服务 |
| bk_bcs_monitor | 	1.0.11 | 容器监控中心 |

## 版本整体  

- 【新增】“容器管理平台”，属于社区版的增强包，基础包部署好后，才可以部署并使用容器管理平台
- 【说明】容器管理平台接入了部分权限体系，新增“权限中心”，该产品仅限容器管理平台配合使用，属于测试产品阶段，请勿基于该产品进行二次开发
- 【新增】支持多级拓扑,在配置平台增加拓扑后，在其他原子平台和SaaS中也会同步拓扑信息
- 【新增】标准运维支持轻应用，创建轻应用过后，可以在“工作台”上显示快捷入口
- 【优化】开发框架升级为2.0，兼容Python2.7.X，支持Python3
- 【优化】APIGateway


## 版本日志

### 容器管理平台

	蓝鲸容器管理平台（BCS）提供高度可扩展、灵活易用的容器管理服务。蓝鲸容器管理平台支持两种不同的集群模式，分别为原生Kubernetes模式和基于Mesos自研的模式。
	使用该服务，用户无需关注基础设施的安装、运维和管理，只需在页面上进行简单的配置，便可对容器进行启动、停止等操作，查看集群、容器及服务的状态，以及使用各种组件服务。
	说明：跟容器管理平台一起推出的有体验产品「权限中心」，该产品目前仅适用于容器管理平台，其他产品暂未接入，具体产品形态请关注后续更新。


### 部署脚本
- 【新增】支持新规范（projects.yaml 最简定义）
- 【新增】支持bcs整套服务部署（含bcs server，bcs web，devops后台，thanos，harbor，etcd等系列服务）
- 【新增】新规范的install.config 配置格式
- 【新增】支持将各模块下的不同功能拆分部署到不同的机器上。
- 【新增】通过脚本注册托管插件的托管信息。
- 【新增】支持AIX插件打包及信息加载
- 【新增】支持根据projects.yaml定义启动顺序
- 【新增】支持start及stop的钩子函数
- 【新增】支持任意节点数量的ZK实例
- 【新增】支持多套kafka(对应独立的多套ZK)
- 【新增】配置文件模板支持文件一对多关系处理
- 【新增】支持gse agent的各类安装目录自定义功能
- 【新增】支持MongoDB，etcd，等多实例
- 【新增】支持iam，新版监控(bkmonitor)
- 【新增】升级到mysql5.7
- 【新增】增加python3.6支持
- 【新增】支持saas部署新接口
- 【新增】兼容bkdatav2及bkdatav3版本。
- 【新增】增加 update hosts_bcs功能(添加域名主机映射关系
- 【新增】支持规范化版本的 GSE Windows Agent安装
- 【新增】增加对install.config的检查
- 【新增】新增离线文档，通过DOCS_FQDN域名访问
- 【修复】修复mysql多实例时initdata的可能出现的识别错误实例的问题
- 【修复】修复proxy节点上的gsectl 检查进程状态未根据实际进程进行匹配的问题
- 【修复】多工程分布部署时initdata只处理第一台的问题
- 【优化】优化virtualenv的取名和获取。
- 【优化】统一密码修改时sed定界符为|
- 【优化】其他若干优化

### 配置平台

- 【新增】支持AIX操作系统类型
- 【新增】支持通过组合唯一导出实例关联
- 【修复】主机属于多个业务模块时， 转移到空闲机模块或者故障机模块时业务模块未清除问题
- 【修复】单关联的两个模型，多个实例只能建一个实例关联关系的问题
- 【修复】删除实例时没有删除实例关联问题
- 【修复】部分字段为空时显示不正确的问题
- 【修复】v2接口查询到不同业务下的同名称模块下的进程问题
- 【修复】模型字段用户提示没生效问题
- 【修复】模型显示配置交互修改，支持模型隐藏
- 【修复】search_host接口无法使用"^"符号正则搜索数据问题
- 【修复】不能建立单关联实例关系问题
- 【修复】解决由于权限问题引起的模型实例无法删除问题
- 【修复】标准运维调用主机属性克隆接口失败问题
- 【修复】关联关系页面超过单页条数不能翻页问题
- 【修复】新增关联类型时，必填字段名称没有星号问题
- 【修复】主机删除历史，切换到第二页后无法回切到第一页问题
- 【修复】全新部署环境系统预设的事件推送，时间异常问题
- 【修复】删除有进程绑定的模块时，进程和模块的关联关系不会被同时删除，导致进程无法取消对该模块的绑定且进程也无法删除问题
- 【修复】删除在业务和集群间添加的自定义模型的关联字段时，导致拓扑结构异常
- 【修复】版本升级时多关联变为单关联的问题
- 【修复】筛选主机的"搜索范围""IP"，多处选框不正常问题
- 【修复】批量修改主机的选择框视觉效果不正常，不显示勾问题
- 【修复】修复主机筛选，收藏按钮点击无反应问题
- 【修复】按录入时间查询主机失败问题
- 【修复】编辑布尔类型的模型字段时没有样式变化问题
- 【修复】布尔类型的模型字段不为真时，为空（应为假False）的问题
- 【修复】时间类型的字段在选择时有可能点出1位数字导致校验不通过问题
- 【修复】编辑模型字段时，浮点型非必填却被强制校验问题
- 【修复】模型停用后仍可通过打开的窗口新建实例问题
- 【修复】模型停用后仍可删除唯一校验问题
- 【修复】查看模型拓扑时，点击详情无法正常弹出问题
- 【修复】没有业务权限的用户可以恢复业务问题
- 【修复】未实例化的模型关联关系不能被删除问题
- 【修复】有模型所有权限但不能导入导出实例问题
- 【修复】编辑模型拓扑可以删掉内置的mainline关联关系问题
- 【修复】模型的时间类型字段的分钟位可以写三位数字而导致校验不通过问题
- 【优化】导航栏新增[基础资源]菜单，并调整[我的收藏]菜单位置


### 管控平台

- 【新增】进程管理支持进程组管理
- 【新增】进程组管理操作，查询等接口
- 【新增】Agent配置模板增加支持进程组管理配置项
- 【新增】版本包中增加project.yml文件

### 作业平台

- 【新增】IP白名单功能，添加白名单的IP,可以跨业务使用
- 【新增】作业迁移功能优化，支持自定义密钥和有效期
- 【新增】选择服务器支持多级拓扑
- 【新增】作业平台全面对接配置平台3.0接口
- 【新增】修改get_job_instance_status接口，返回服务器的作业执行状态
- 【修复】新建作业-文件传输-目标路径包含"\"导致解析错误的问题
- 【修复】本地上传文件超过2G提示不正确的问题
- 【修复】文件传输步骤编辑服务器文件列表，服务器账户被清空的问题
- 【修复】编辑作业-勾选步骤-点击取消全选没有反应的问题
- 【修复】作业执行页面作业类型显示不正确的问题
- 【修复】作业迁移密码错误提示不准确的问题
- 【修复】MySQL升级失败的问题
- 【修复】导出作业有效期不正确的问题
- 【修复】新建公共脚本报错的问题
- 【修复】execute_platform_task接口报错问题
- 【修复】文件源服务器和目标服务器一致且源文件不存在的场景下，作业长时间无法结束的问题
- 【优化】新建作业-服务器账号默认不选中的问题


### PaaS平台

- 【删除】统一角色管理更多角色的设置，未来将使用的新品「用户管理」进行更新
- 【新增】支持Python 3的SaaS应用
- 【新增】支持“标准运维”产品轻应用的功能
- 【新增】支持用户自行选择是否初始化开发框架的代码
- 【新增】小程序/H5开发框架
- 【新增】ESB 支持从markdown文件中获取官方组件文档
- 【新增】ESB 支持使用DELETE、PUT、PATCH请求部分组件
- 【新增】ESB SDK 支持 Python3
- 【新增】 蓝鲸监控（monitor） API
- 【修复】用户管理批量导入用户信息异常
- 【优化】APIGateway服务
- 【优化】「Python开发框架」升级为2.0，兼容Python2.7.X，支持Python3
- 【优化】更新 CMDB（CC） 组件逻辑
- 【优化】ESB 更新JOB部分组件协议，更新CMDB（CC）、approval部分组件文档
- 【优化】更新CMDB/JOB 配置类组件
- 【修复】用户导入异常


### 节点管理
- 【优化】支持规范化版本windows agent安装
- 【新增】插件信息添加英文描述字段
- 【修复】加载插件基础信息出现异常报错问题
- 【修复】从1.1.18更新上来，NGINX配置信息丢失问题
- 【修复】无法修改云区域名称问题
- 【修复】Windows下卸载插件会错用root帐户问题
- 【修复】卸载PAgent失败问题
- 【修复】批量导入侧边栏介绍文字，错别字问题
- 【修复】不可同时升级Proxy和Pagent限制问题
- 【修复】修改Linux下载脚本的使用命令
- 【修复】Nginx设置里配置安装包来源说明文本更新
- 【修复】无法创建删除过的云区域名称问题
- 【修复】Pagent安装有部分失败时，所有机器都标示安装成功问题
- 【优化】兼容老版本已安装没有数据ip和登录ip的主机数据
- 【更新】底部信息栏年份更新

### 蓝鲸监控

- 【新增】全新首页正式上线！新用户指引更友好，强化业务整体的监控状态
- 【新增】兼容配置平台3.0的多层级业务拓扑结构
- 【新增】告警邮件中现在会包含图表、性能报告
- 【新增】组件的告警策略现在有了统一的入⼝（在监控配置页面中）
- 【新增】磁盘、⽹卡的告警配置⽀持更细维度的过滤
- 【新增】所有组件的采集方式来源全部标注显示
- 【新增】支持设置了告警屏蔽后，发送消息通知
- 【新增】策略配置的“检测范围”现在支持大于和小于两种过滤方式
- 【新增】支持在Admin后台设置过滤的文件系统类型（解决挂载镜像会发出无意义告警的问题）
- 【新增】脚本采集链路优化，流程升级，支持各类型脚本
- 【新增】服务拨测支持批量导入
- 【新增】日志采集支持批量导入
- 【新增】分级告警、告警恢复、无数据告警
- 【新增】数据链路的健康状态展示，方便排查数据未上报
- 【新增】后台自监控告警
- 【新增】AIX系统下 自定义组件采集支持  
- 【新增】集中设置过滤的文件系统类型，解决挂载镜像告警的问题
- 【新增】主机监控增加“swap空间使用率 ”这个指标
- 【新增】组件监控支持管理组件分类
- 【新增】监控API支持monitor_api，字段支持蓝鲸标准
- 【新增】代码去敏感ip
- 【新增】监控API文档刷新
- 【修复】查看进程资源pid数量过多会导致获取图表数据返回502的问题
- 【修复】自定义监控和仪表盘配置监控项时，监控周期跟实际采集周期不一致的问题
- 【修复】拨测任务采集周期与其对应监控项的监控周期不一致的问题
- 【修复】告警范围配置多个值使用逗号分隔不生效的问题
- 【修复】告警详情图表聚合周期与监控周期不一致的问题
- 【修复】解决tomcat组件采集，在测试连通性可能卡顿的问题
- 【修复】告警收敛后，comment内容被清空的问题
- 【修复】拨测站点URL带了"="号导致无数据的问题
- 【修复】修复检测范围不支持gt和lt的问题
- 【修复】日志采集保存失败问题
- 【修复】主机监控策略类型展示错乱问题
- 【修复】事件中心的无数据告警主机信息获取异常的问题
- 【修复】主机详情页的关联报警信息缺失的问题
- 【修复】事件类型的告警，未显示监控名称的问题
- 【修复】修复mysql5.7版本以下部署，可能会导致数据库变更失败的问题
- 【优化】告警屏蔽策略支持周期性的灵活配置
- 【优化】主机监控支持按云区域进行过滤
- 【优化】磁盘使用率的统计不会再计算系统保留空间（与系统原生计算方式保持一致）
- 【优化】检测算法现在支持“不等于”
- 【优化】磁盘IO读写速率支持整块盘采集
- 【优化】拨测详情页添加可用率、响应时间圆环展示图、节点状态展示图
- 【优化】拨测节点管理，节点属性去掉区域依赖
- 【优化】主机性能数据缓存开关支持admin配置，默认不开启
- 【优化】删除组件时，同时删除对应的监控项及监控策略
- 【优化】事件中心默认优先展示未恢复的事件
- 【优化】事件中心日历模式交互优化，去除操作流水展示
- 【优化】进程采集器性能
- 【优化】日志采集器存储切换为influxdb、支持跨云采集
- 【优化】主机视图维度，删除不必要的描述
- 【优化】组件监控增加分类筛选框
- 【优化】内置组件监控将存活状态指标置顶
- 【优化】主机监控列表根据上报状态正常优先排序
- 【优化】服务拨测页面展示增强
- 【优化】去除后台的crontab
- 【优化】主机详情页、告警增加复制链接
- 【优化】主机列表中进程服务超过多行缩略显示，点击其中进程跳转对应视图
- 【优化】zookeeper组件描述增加性能风险提示
- 【优化】es组件采集配置表单增加默认URL
- 【优化】主机监控 - 主机详情侧弹框组件化
- 【优化】组件监控支持删除已部署实例
- 【优化】业务管理页面重构
- 【优化】事件中心列表模式页面重构
- 【优化】主机监控图表展示时的聚合方法由avg改为max
- 【优化】告警模板中，渲染指标值浮点数 过大或者过小 的时候，使用科学计数法渲染导致可读性较差的问题
- 【优化】主机列表展示今日告警数逻辑优化，只统计已通知和通知失败的数量
- 【优化】celery worker数可在admin配置
- 【优化】后台周期缓存结构
- 【优化】后台处理能力加速


### 故障自愈

- 【新增】支持业务多级拓扑结构功能
- 【新增】告警源管理页面显示未接入自愈的告警数量- 依赖后台包 5.1.31
- 【修复】套餐页面多次切换套餐编辑保存出现白页面问题
- 【修复】刷新按钮没有加载的情况下也有滚动动画问题出现
- 【修复】自愈详情页面表格样式调整
- 【修复】预警自愈和全业务接入页面更多通知人选项
- 【修复】用户自定义的自愈套餐没生效问题
- 【修复】系统推荐套餐默认为关闭问题
- 【修复】redis集群无法单机部署问题
- 【修复】空闲机池集群问题修复
- 【修复】自愈小助手页面展示样式优化
- 【修复】自愈详情页面模块名称和集群名称模糊匹配
- 【修复】未匹配的告警清洗数据报错导致match无法执行问题
- 【修复】超级管理员权限不生效问题
- 【修复】标准运维链接打开404等问题
- 【修复】 业务拓扑没有上层节点的时候无法选择配置集群信息
- 【修复】保存未匹配的告警时候报redis all dead 错误修复
- 【优化】未匹配的告警根据source_id去重
- 【优化】告警源反馈信息优化
- 【优化】蓝鲸监控拉取的告警set和module名称通过配置平台接口拉取
- 【优化】收敛条件失效的情况下提示用户重新保存编辑
- 【优化】修改zabbix的API的URL
- 【优化】邮箱配置提示信息优化和加载动画优化
- 【优化】邮箱配置帮助信息提示用户配置内网ip正则规则优化
- 【优化】unmatch告警按天来计入到数据库

### 日志检索

- 【新增】支持数据平台V3版本
- 【新增】新建采集项提供一站式数据接入和入口的方式
- 【新增】支持Windows日志采集
- 【新增】可根据CMDB3.0的拓扑结构进行数据接入
- 【新增】支持简单的过滤条件进行日志采集
- 【新增】提供部署过程的日志查询
- 【新增】提供根据采集项快速检索的入口
- 【新增】采集项详情中提供更多的数据相关信息、审计与操作
- 【新增】支持用户自行输入java的编码格式
- 【新增】新增收敛规则的配置
- 【新增】新增“其它”通知人配置
- 【新增】提供更友好的日志查询方式
- 【新增】提供时间选择器以方便按时间维度进行查询
- 【新增】提供高级搜索功能便于用户按字段维度进行查询
- 【新增】提供以当前检索条件快速创建监控项的入口
- 【更新】关键字监控对接监控新API

### 采集器包

- 【新增】uptimecheckbeat新增脚本协议采集功能
- 【新增】windows日志采集器
- 【新增】DB和http采集器
- 【新增】拨测采集器增加https不校验证书选项
- 【优化】basereport在windows系统上, 延长wmi调用超时时间
- 【优化】basereport磁盘使用率计算增加保留盘
- 【优化】basereport上报新增主分区磁盘设备IO
- 【优化】优化不带配置文件的采集器描述
- 【修复】http采集检测解析url编码问题
- 【修复】tomcat采集数据解析异常问题
- 【修复】修复basereport虚拟内存指标采集
- 【修复】修复unifytlogc日志采集器接收数据异常问题


### 标准运维

- 【新增】流程编辑支持一键自动编排，免除手动排版对齐的枯燥工作
- 【新增】新增本地缓存功能，可以随时还原，再也不担心前端编排数据意外丢失了
- 【新增】流程模板、任务记录页面新增查询筛选条件
- 【新增】新建任务节点选择后，删除多余分支或并行与配对的汇聚网关
- 【新增】新建任务、职能化认领预览流程的画布弹窗支持子流程跳转
- 【新增】JOB-快速执行脚本标准插件增加拉取业务脚本和公共脚本功能
- 【新增】JOB标准插件执行完成可以查看执行 IP 和 LOG 详情
- 【新增】流程模板的标准插件节点可以设置失败后是否允许手动跳过和手动重试
- 【新增】新增周期任务功能，可以使用流程模板在新建任务时选择周期执行策略，新建周期任务
- 【新增】新增公共流程功能，管理员用户可以在管理员入口新建全业务可见的流程
- 【新增】JOB-执行作业支持把云参作为输出参数引用到后续的任务节点参数中
- 【新增】新增导入流程模板替换JOB相关ID的接口
- 【新增】JOB-执行作业标准插件展示输出云参
- 【新增】代码架构调整，适配最新版开发框架
- 【新增】流程编辑新增框选功能，可以多选节点并移动、删除、复制粘贴（包含开始、结束节点时不可复制）
- 【新增】业务流程、公共流程新增子流程是否更新的筛选条件
- 【新增】新建任务节点选择阶段新增预览模式，如果流程包含可选节点，用户可以预览调整节点后的流程（不包含网关的流程会自动编排）
- 【新增】数据统计-任务统计新增按时间维度的任务数量趋势图
- 【新增】社区版开放轻应用、职能化、数据统计功能
- 【新增】流程编辑画布添加标准插件个数提示
- 【新增】添加【CMDB-转移主机至空闲机】插件
- 【新增】JOB 执行作业插件允许用户引用 JOB 云参
- 【新增】新增进阶版IP选择器类型的全局变量，支持多种选择IP方式，如通过勾选配置平台多级拓扑树动态获取，或者直接选择静态服务器，获取通过任一拓扑实例名字组合筛选/排除；之前的IP选择器改为IP选择器(简单版)
- 【新增】新增节点回调 API，可以通过该接口继续执行中等待回调的标准插件节点，如BK-暂停、JOB系列插件
- 【新增】在父流程中更新引用的子流程时，保留用户当前编辑输入参数表单的值
- 【新增】轻应用、职能化中心、审计中心页面增加高级搜索功能
- 【新增】任务执行节点树查看按照广度优先排序
- 【新增】数据统计页面拉取所有未下线业务
- 【新增】添加公共流程模板导入 API，支持其他应用通过 API 新建公共流程
- 【新增】新建周期任务时，周期表达式支持通过选择生成，用户可以选择按照分钟、小时、星期、日期、月份等维度循环执行或者指定某些时间点执行
- 【新增】新建任务-参数填写页面添加查看未引用变量功能，用户可以查看属性是显示但是未被执行的节点引用的全局变量
- 【新增】官方插件库新添CMDB-转移主机至业务故障机、CMDB-转移主机至资源池2个插件(感谢社区用户 AllenHolems 贡献)
- 【新增】官方插件库新添JOB-新建定时作业插件(感谢社区用户 chenrb 贡献)
- 【优化】新建全局变量、新建缓存按钮尺寸调小
- 【优化】文本框 textarea 内容超出宽度强制断行
- 【优化】JOB标准插件执行完成后，可以在输出参数中点击任务链接跳转到作业平台
- 【优化】删除流程模板时，提示信息添加引用该流程的流程模板详情
- 【优化】全局变量 KEY 不能以数字开头，提示优化
- 【优化】保存编辑中的流程模板时，增加校验并保存编辑状态的全局变量的步骤，避免数据丢失
- 【优化】周期任务新建后默认启动
- 【优化】周期任务列表页面版权信息贴底
- 【优化】业务中查看的公共流程列表去掉子流程更新字段
- 【优化】周期任务在运行时禁止修改流程的参数
- 【优化】编辑流程模板时，公共属性中类型校验提示在选择类型后隐藏
- 【优化】日期时间变量图标重叠的样式优化
- 【优化】进入管理员入口导航后禁用业务切换
- 【优化】标准运维SaaS部署时默认容器分配内存大小改为 2G
- 【优化】流程编辑、任务执行页面样式重构
- 【优化】职能化中心、审计中心、流程列表、任务列表等表格样式重构，新增高级搜索
- 【优化】JOB-执行作业区分云参和上下文参数，只有云参可以作为输出变量
- 【优化】JOB-执行作业的全局变量参数由通过 id 改为 通过 name 传参，多个JOB-执行作业的全局变量参数名一致可以复用参数
- 【优化】国际化样式优化
- 【优化】首页收藏流程弹框样式优化
- 【优化】数据统计图表中筛选条件的时间选择宽度优化
- 【优化】职能化中心、审计中心、轻应用任务表格样式优化，添加搜索条件
- 【优化】JOB 相关插件更改为 JOB 回调方式
- 【优化】JOB 相关插件拉取 CMDB 信息时不再使用缓存
- 【优化】自定义全局变量改为从后台接口获取，去掉前端的 vue 硬编码
- 【优化】流程编辑中本地缓存表格实现方式改为 table 元素实现，优化页面
- 【优化】查看任务执行参数，需要等待所有参数加载完毕再取消 loading 状态
- 【优化】新建或编辑全局变量时，配置项没有加载完成，禁用保存按钮
- 【优化】获取节点详情及创建任务 API 返回数据新增任务树及任务链接
- 【优化】JOB-执行作业失败后查看 IP 日志详情未展示所有状态的 IP
- 【优化】流程模板导出弹窗页面优化
- 【优化】优化CMDB-故障机替换插件错误信息
- 【优化】不允许用户在已停运业务下进行任何操作
- 【优化】优化流程导入弹窗按钮的文案
- 【优化】禁止业务流程和公共流程交叉导入时保留ID
- 【优化】职能化中心列表所属业务置于第一列，ID改为任务ID并和运维视角保持一样的值
- 【优化】优化执行任务修改参数禁用态中下拉框和文本框的 padding 边距
- 【优化】轻应用页面重构，展示更新人、更新时间、使用权限等更多信息
- 【优化】redis 环境变量配置支持在部署时注入作为默认值，用户在数据库中配置项可以覆盖默认值
- 【优化】新建任务的参数填写、职能化认领页面表格内 textarea 宽度自适应
- 【优化】去掉流程模版本地缓存为空时 hover 底色
- 【优化】执行任务时操作按钮状态切换优化
- 【优化】导出流程弹窗 loading 时，禁用筛选条件下拉框
- 【优化】不允许用户删除已经开始执行且未进入归档状态的任务
- 【优化】页面头部导航左右间距统一
- 【优化】优化 IP 选择器加载样式
- 【优化】日志配置优化，支持本地开发时在 console 中展示请求日志
- 【优化】优化本地开发配置，支持不使用全局变量，直接修改本地代码运行工程
- 【优化】导航栏固定在顶部，不会随着浏览器滚动条下拉而隐藏
- 【优化】新增、编辑周期任务中周期表达式参数前端校验优化
- 【优化】流程编辑中全局变量列表的显示隐藏、输入输出属性改为图标区分
- 【优化】非数据列表页面添加返回按钮，用户可以快速返回到之前的数据列表页面
- 【优化】二级导航的父级允许点击，默认打开二级导航列表的第一项
- 【优化】二级导航列表选中态样式优化
- 【优化】IP 选择器样式多处优化，去掉静态IP选择列表中云区域中多余右括号
- 【优化】导出流程弹窗和编辑周期任务弹窗按钮添加loading效果
- 【修复】修复删除流程模板时提示被引用的流程中包含了已删除的流程的问题
- 【修复】修复删除汇聚网关产生脏数据的问题
- 【修复】修复轻应用 logo 图片超过 100k 时提示信息不展示的问题
- 【修复】修复流程编辑时，任务节点可以连接自身的问题
- 【修复】修复公共流程模板新建任务跳转问题
- 【修复】修复数据统计页面时间选择器样式和时间范围提示不统一的问题
- 【修复】修复JOB-快速执行脚本使用公共脚本时传参错误问题
- 【修复】修复IP选择器点击后自动收缩的问题
- 【修复】修复自动编排标准插件参数丢失的问题
- 【修复】修复职能化人员使用公共流程新建任务报404的问题
- 【修复】修复审计中心查看任务状态链接错误问题
- 【修复】业务首页禁止在轻应用、职能化、审计中心页面触发
- 【修复】修复数据统计外链跳转时业务切换问题
- 【修复】修复标准插件表格参数未保存时，失去焦点后无法再次编辑的问题
- 【修复】修复数据统计部分数据不准确的问题
- 【修复】修复标准插件组合参数校验的问题
- 【修复】修复CMDB系列标准插件拓扑树选择时ID重复导致多个节点被选中的问题
- 【修复】修复同时唤醒并行分支的多个分支时部分子进程卡住的问题
- 【修复】轻应用和职能化入口新建任务去掉周期执行选项
- 【修复】修复日期时间变量图标重叠的样式问题
- 【修复】修复流程编辑中标准插件配置的失败处理tooltip垂直方向错位问题
- 【修复】新建职能化类型任务去掉周期执行选项
- 【修复】修复社区版判断用户角色异常问题
- 【修复】修复引用多选下拉框报错的问题
- 【修复】流程编辑请求标准插件配置项 404 导致页面白屏问题
- 【修复】修复新建任务节点调整后无标准插件节点的分支被误删除的问题
- 【修复】修复 IP 选择器根据拓扑选择不生效的问题
- 【修复】修复公共流程下查看业务相关插件后台返回 500 的问题
- 【修复】修复插件参数中带中文时流程执行错误的问题
- 【修复】修复社区版 JOB 跳转链接不正确的问题
- 【修复】修复在前端数据结构不正确时，创建流程后台返回 500 的问题
- 【修复】修复轻应用 LOGO 获取不到的问题
- 【修复】修复流程统计 - 流程引擎 - 创建任务数不正确的问题
- 【修复】修复用户能够通过轻应用进入标准运维业务首页的问题
- 【修复】修复职能化中心不能正常认领任务的问题
- 【修复】修复流程模板高级搜索栏中无法清空子流程状态的问题
- 【修复】修复打开标准插件时表单可能会不渲染的问题
- 【修复】修复职能化任务记录下任务状态信息样式错误的问题
- 【修复】修复运维在任务列表删除任务后，职能化列表还能看到任务的问题
- 【修复】修复数据统计按标准插件统计分页异常的问题
- 【修复】修复自动排版在流程存在换行的情况下错位的问题
- 【修复】修复用户在没登录过标准运维的情况下无法调用 API 接口的问题
- 【修复】修复周期任务在固定月份和日期时 beat 进程退出的问题
- 【修复】修复任务节点失败后重试时如果参数填写出错，会导致无法通过修改参数再次重试的问题
- 【修复】修复职能化认领页面点击认领按钮页面会重新刷新的问题
- 【修复】修复任务节点执行时间超过一天后耗时计算不正确的问题
- 【修复】修复获取任务流程状态接口 API 返回的节点名与实际节点名不符的问题
- 【修复】修复在 API 中调用 ESB 获取用户信息异常的问题
- 【修复】修复在 get_task_status API 返回的 elapsed_time 为 Float 的问题
- 【修复】修复JOB-快速执行脚本中先选择"公共脚本"或"业务脚本"并勾选到全局变量后，再选择"手工录入"时勾选的全局变量不消失的问题
- 【修复】公共流程模版列表和普通流程模版列表数据源做区分，修复选择业务流程等待表格刷新时切换到公共流程，表格数据是业务流程的问题
- 【修复】修复BK-发送通知插件中邮件通知内容不换行的问题
- 【修复】修复任务执行页面查看任务参数节点树样式错位的问题
- 【修复】修复节点重试取消按钮点击无效问题
- 【修复】修复自定义全局变量为弹窗编辑时，不点开编辑直接保存导致value丢失的问题
- 【修复】修复用户在只有一个已归档业务时访问业务首页返回 500 的问题
- 【修复】修复非运维角色执行任务时无法正确获取业务下拥有运维角色用户的问题
- 【修复】修复获取公共流程列表接口中返回的数据缺少子流程是否更新的问题
- 【修复】修复新建周期任务点击下一步后不跳转的问题
- 【修复】修复下拉框Tag设置多选后default属性不生效的问题
- 【修复】修复无编辑权限的用户可以更新流程模板数据的问题
- 【修复】修复单元测试在使用 sqllite 时第一次 migrate 无法完成的问题
- 【修复】修复任务执行前，修改参数保存后，查看参数节点参数信息不展示问题
- 【修复】修复新建缓存控制台报校验相关错误的问题
- 【修复】修复下拉框表单项搜索结果为空时，选择项被清空问题
- 【修复】修复编辑表格类型参数导致插件参数面板收起的问题
- 【修复】统一管理员入口页面的URL前缀，修复管理员入口页面刷新后默认业务被置空的问题
- 【修复】修复任务执行页面，查看参数中汇聚节点后的插件节点未显示的问题
- 【修复】修复页面中表格翻页后，通过高级搜索查询数据为空的问题
- 【修复】修复职能化页面新建任务弹窗中，清空选择的业务后，流程模板选择项未清空的问题
- 【修复】修复JOB-执行作业输出参数偶现显示其他插件节点已勾选输出参数的问题
- 【修复】修复 JOB 插件回调链接和轻应用访问链接无 BK_PAAS_URL 前缀的错误(V3.3.14引入)
- 【修复】修复数据统计时间筛选条件右侧点展开关闭弹窗击无效的问题
- 【修复】修复数据统计-流程统计列表只展示一条数据的问题
- 【修复】修复V3.1.40之前的版本升级后，已开始但是未完成的任务无法继续操作的问题（如V3.1.39升级到V3.3.15会出现该问题）
- 【修复】修复包含并行分支的流程，在执行任务查看参数时的排序不正确的问题
- 【修复】修复编辑流程时，切换本地缓存记录后标准插件左上角显示失败处理方式的图标消失的问题
- 【修复】修复新建任务未执行时获取不到执行者的问题
- 【修复】修复非运维人员编辑流程模板报错提示弹窗提示登录而不是无权限的问题
- 【修复】修复调用标准运维API报500异常的问题(V3.3.14引入)
- 【修复】修复流程编辑中，打开子流程节点，流程选择下拉框展开时未定位到已选择的子流程的问题
- 【修复】修复分支判断表达式解析不严格，导致形如 "true == true111" 的分值表达式被判断为 True 的问题
=======
<!--sec data-title="版本详情" data-id="section0" data-show=true ces-->

<li>版本类型：release </li>
<li>版本号：5.1 </li>
<li>发布日期：敬请期待</li>

<!--endsec-->


## 后台模块 （基础包） 

|     子模块     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
|      gse       | 3.4.7   |        管控平台         |
|      cmdb      | 3.2.15   |        配置平台         |
|      job       | 5.0.20  |        作业平台         |
|   open_paas    | 3.2.519 |        PaaS平台         |
|   paas_agent   | 3.1.0202 |        PaaS平台         |
|    license     | 3.1.4  |        证书服务         |
| bkdata/dataapi | 1.3.31  |  数据基础模块API服务     |
| bkdata/databus | 1.2.33  |  数据基础模块总线服务     |
| bkdata/monitor | 2.5.27  |    蓝鲸监控后台模块      |
|      fta       |  5.1.38 |    故障自愈后台模块      |
|      src       | 5.1     |      整包版本信息        |

## 后台模块（增强包）

|   子模块       | 版本号  |    备注                  |
|:--------------:|:-------:|:----------------------:|
|     iam        |  0.0.13 |    权限中心后台模块      |
|   thanos       |  1.0.14  |    容器监控后台thanos模块  |
|   bcs/cc       |  1.0.10  |    容器服务配置中心      |
|   bcs/grafana  |  1.0.15 |    容器监控后台grafana模块  |
|   bcs/monitor  |  1.0.15 |     容器服务监控          |
|   bcs/server   | 1.13.3  |     容器服务后台模块   |
|bcs/web_console |  1.0.17 | 容器服务后台web console模块 |
|      devops    | 1.0.20  |        容器管理平台导航  |
|  harbor/api    |  1.0.4  | Harbor容器镜像仓库API服务 |
| harbor/server  |  1.7.5  | Harbor容器镜像仓库服务   |

## 后台模块（合作商软件包）
|   子模块       | 版本号  |    备注                  |
|:--------------:|:-------:|:----------------------:|
|   bknetwork    |  3.6.1  | 网络管理，可源科技提供    |

## SaaS应用 （基础包） 

|     SaaS     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
|  bk_nodeman     | 1.2.13   |    节点管理         |
| bk_fta_solutions| 5.1.36   |   故障自愈         |
|  bk_monitor     | 2.5.96  |    蓝鲸监控        |
|  bk_log_search   | 2.1.59 |    日志检索         |
|   bk_sops   | 3.3.18 |       标准运维         |

## SaaS应用 （增强包）

|     SaaS     | 版本号    |          备注          |
|:--------------:|:-------:|:----------------------:|
| bk_iam_app | 0.0.10   |  权限中心     |
| bk_bcs_app | 1.0.16 | 容器服务 |
| bk_bcs_monitor | 	1.0.11 | 容器监控中心 |

## 版本整体  

- 【新增】“容器管理平台”，属于社区版的增强包，基础包部署好后，才可以部署并使用容器管理平台
- 【说明】容器管理平台接入了部分权限体系，新增“权限中心”，该产品仅限容器管理平台配合使用，属于测试产品阶段，请勿基于该产品进行二次开发
- 【新增】支持多级拓扑,在配置平台增加拓扑后，在其他原子平台和SaaS中也会同步拓扑信息
- 【新增】标准运维支持轻应用，创建轻应用过后，可以在“工作台”上显示快捷入口
- 【优化】开发框架升级为2.0，兼容Python2.7.X，支持Python3
- 【优化】APIGateway


## 版本日志

### 容器管理平台

	蓝鲸容器管理平台（BCS）提供高度可扩展、灵活易用的容器管理服务。蓝鲸容器管理平台支持两种不同的集群模式，分别为原生Kubernetes模式和基于Mesos自研的模式。
	使用该服务，用户无需关注基础设施的安装、运维和管理，只需在页面上进行简单的配置，便可对容器进行启动、停止等操作，查看集群、容器及服务的状态，以及使用各种组件服务。
	说明：跟容器管理平台一起推出的有体验产品「权限中心」，该产品目前仅适用于容器管理平台，其他产品暂未接入，具体产品形态请关注后续更新。


### 部署脚本
- 【新增】支持新规范（projects.yaml 最简定义）
- 【新增】支持bcs整套服务部署（含bcs server，bcs web，devops后台，thanos，harbor，etcd等系列服务）
- 【新增】新规范的install.config 配置格式
- 【新增】支持将各模块下的不同功能拆分部署到不同的机器上。
- 【新增】通过脚本注册托管插件的托管信息。
- 【新增】支持AIX插件打包及信息加载
- 【新增】支持根据projects.yaml定义启动顺序
- 【新增】支持start及stop的钩子函数
- 【新增】支持任意节点数量的ZK实例
- 【新增】支持多套kafka(对应独立的多套ZK)
- 【新增】配置文件模板支持文件一对多关系处理
- 【新增】支持gse agent的各类安装目录自定义功能
- 【新增】支持MongoDB，etcd，等多实例
- 【新增】支持iam，新版监控(bkmonitor)
- 【新增】升级到mysql5.7
- 【新增】增加python3.6支持
- 【新增】支持saas部署新接口
- 【新增】兼容bkdatav2及bkdatav3版本。
- 【新增】增加 update hosts_bcs功能(添加域名主机映射关系
- 【新增】支持规范化版本的 GSE Windows Agent安装
- 【新增】增加对install.config的检查
- 【新增】新增离线文档，通过DOCS_FQDN域名访问
- 【修复】修复mysql多实例时initdata的可能出现的识别错误实例的问题
- 【修复】修复proxy节点上的gsectl 检查进程状态未根据实际进程进行匹配的问题
- 【修复】多工程分布部署时initdata只处理第一台的问题
- 【优化】优化virtualenv的取名和获取。
- 【优化】统一密码修改时sed定界符为|
- 【优化】其他若干优化

### 配置平台

- 【新增】支持AIX操作系统类型
- 【新增】支持通过组合唯一导出实例关联
- 【修复】主机属于多个业务模块时， 转移到空闲机模块或者故障机模块时业务模块未清除问题
- 【修复】单关联的两个模型，多个实例只能建一个实例关联关系的问题
- 【修复】删除实例时没有删除实例关联问题
- 【修复】部分字段为空时显示不正确的问题
- 【修复】v2接口查询到不同业务下的同名称模块下的进程问题
- 【修复】模型字段用户提示没生效问题
- 【修复】模型显示配置交互修改，支持模型隐藏
- 【修复】search_host接口无法使用"^"符号正则搜索数据问题
- 【修复】不能建立单关联实例关系问题
- 【修复】解决由于权限问题引起的模型实例无法删除问题
- 【修复】标准运维调用主机属性克隆接口失败问题
- 【修复】关联关系页面超过单页条数不能翻页问题
- 【修复】新增关联类型时，必填字段名称没有星号问题
- 【修复】主机删除历史，切换到第二页后无法回切到第一页问题
- 【修复】全新部署环境系统预设的事件推送，时间异常问题
- 【修复】删除有进程绑定的模块时，进程和模块的关联关系不会被同时删除，导致进程无法取消对该模块的绑定且进程也无法删除问题
- 【修复】删除在业务和集群间添加的自定义模型的关联字段时，导致拓扑结构异常
- 【修复】版本升级时多关联变为单关联的问题
- 【修复】筛选主机的"搜索范围""IP"，多处选框不正常问题
- 【修复】批量修改主机的选择框视觉效果不正常，不显示勾问题
- 【修复】修复主机筛选，收藏按钮点击无反应问题
- 【修复】按录入时间查询主机失败问题
- 【修复】编辑布尔类型的模型字段时没有样式变化问题
- 【修复】布尔类型的模型字段不为真时，为空（应为假False）的问题
- 【修复】时间类型的字段在选择时有可能点出1位数字导致校验不通过问题
- 【修复】编辑模型字段时，浮点型非必填却被强制校验问题
- 【修复】模型停用后仍可通过打开的窗口新建实例问题
- 【修复】模型停用后仍可删除唯一校验问题
- 【修复】查看模型拓扑时，点击详情无法正常弹出问题
- 【修复】没有业务权限的用户可以恢复业务问题
- 【修复】未实例化的模型关联关系不能被删除问题
- 【修复】有模型所有权限但不能导入导出实例问题
- 【修复】编辑模型拓扑可以删掉内置的mainline关联关系问题
- 【修复】模型的时间类型字段的分钟位可以写三位数字而导致校验不通过问题
- 【优化】导航栏新增[基础资源]菜单，并调整[我的收藏]菜单位置


### 管控平台

- 【新增】进程管理支持进程组管理
- 【新增】进程组管理操作，查询等接口
- 【新增】Agent配置模板增加支持进程组管理配置项
- 【新增】版本包中增加project.yml文件

### 作业平台

- 【新增】IP白名单功能，添加白名单的IP,可以跨业务使用
- 【新增】作业迁移功能优化，支持自定义密钥和有效期
- 【新增】选择服务器支持多级拓扑
- 【新增】作业平台全面对接配置平台3.0接口
- 【新增】修改get_job_instance_status接口，返回服务器的作业执行状态
- 【修复】新建作业-文件传输-目标路径包含"\"导致解析错误的问题
- 【修复】本地上传文件超过2G提示不正确的问题
- 【修复】文件传输步骤编辑服务器文件列表，服务器账户被清空的问题
- 【修复】编辑作业-勾选步骤-点击取消全选没有反应的问题
- 【修复】作业执行页面作业类型显示不正确的问题
- 【修复】作业迁移密码错误提示不准确的问题
- 【修复】MySQL升级失败的问题
- 【修复】导出作业有效期不正确的问题
- 【修复】新建公共脚本报错的问题
- 【修复】execute_platform_task接口报错问题
- 【修复】文件源服务器和目标服务器一致且源文件不存在的场景下，作业长时间无法结束的问题
- 【优化】新建作业-服务器账号默认不选中的问题


### PaaS平台

- 【删除】统一角色管理更多角色的设置，未来将使用的新品「用户管理」进行更新
- 【新增】支持Python 3的SaaS应用
- 【新增】支持“标准运维”产品轻应用的功能
- 【新增】支持用户自行选择是否初始化开发框架的代码
- 【新增】小程序/H5开发框架
- 【新增】ESB 支持从markdown文件中获取官方组件文档
- 【新增】ESB 支持使用DELETE、PUT、PATCH请求部分组件
- 【新增】ESB SDK 支持 Python3
- 【新增】 蓝鲸监控（monitor） API
- 【修复】用户管理批量导入用户信息异常
- 【优化】APIGateway服务
- 【优化】「Python开发框架」升级为2.0，兼容Python2.7.X，支持Python3
- 【优化】更新 CMDB（CC） 组件逻辑
- 【优化】ESB 更新JOB部分组件协议，更新CMDB（CC）、approval部分组件文档
- 【优化】更新CMDB/JOB 配置类组件
- 【修复】用户导入异常


### 节点管理

- 【优化】支持规范化版本windows agent安装
- 【新增】插件信息添加英文描述字段
- 【修复】加载插件基础信息出现异常报错问题
- 【修复】从1.1.18更新上来，NGINX配置信息丢失问题
- 【修复】无法修改云区域名称问题
- 【修复】Windows下卸载插件会错用root帐户问题
- 【修复】卸载PAgent失败问题
- 【修复】批量导入侧边栏介绍文字，错别字问题
- 【修复】不可同时升级Proxy和Pagent限制问题
- 【修复】修改Linux下载脚本的使用命令
- 【修复】Nginx设置里配置安装包来源说明文本更新
- 【修复】无法创建删除过的云区域名称问题
- 【修复】Pagent安装有部分失败时，所有机器都标示安装成功问题
- 【优化】兼容老版本已安装没有数据ip和登录ip的主机数据
- 【更新】底部信息栏年份更新

### 蓝鲸监控

- 【新增】全新首页正式上线！强化业务整体的监控状态
- 【新增】兼容配置平台3.0的多层级业务拓扑结构
- 【新增】告警邮件中现在会包含图表、性能报告
- 【新增】组件的告警策略现在有了统一的入⼝（在监控配置页面中）
- 【新增】磁盘、⽹卡的告警配置⽀持更细维度的过滤
- 【新增】所有组件的采集方式来源全部标注显示
- 【新增】支持设置了告警屏蔽后，发送消息通知
- 【新增】策略配置的“检测范围”现在支持大于和小于两种过滤方式
- 【新增】支持在Admin后台设置过滤的文件系统类型（解决挂载镜像会发出无意义告警的问题）
- 【新增】脚本采集支持的语言支持更多类型
- 【新增】服务拨测、日志采集支持批量导入
- 【新增】分级告警、告警恢复、无数据告警
- 【新增】数据链路的健康状态展示，方便排查数据未上报
- 【新增】后台自监控告警
- 【新增】部分自定义组件采集支持AIX系统  
- 【新增】主机监控新增了 “SWAP空间使用率” 指标
- 【新增】组件监控支持管理组件分类
- 【修复】查看进程资源pid数量过多会导致获取图表数据返回502的问题
- 【修复】自定义监控和仪表盘配置监控项时，监控周期跟实际采集周期不一致的问题
- 【修复】拨测任务采集周期与其对应监控项的监控周期不一致的问题
- 【修复】告警范围配置多个值使用逗号分隔不生效的问题
- 【修复】告警详情图表聚合周期与监控周期不一致的问题
- 【修复】解决tomcat组件采集，在测试连通性可能卡顿的问题
- 【修复】告警收敛后，comment内容被清空的问题
- 【修复】拨测站点URL带了"="号导致无数据的问题
- 【修复】修复检测范围不支持gt和lt的问题
- 【修复】主机监控策略类型展示错乱问题
- 【修复】事件中心的无数据告警主机信息获取异常的问题
- 【修复】主机详情页的关联报警信息缺失的问题
- 【修复】事件类型的告警，未显示监控名称的问题
- 【修复】修复 MySQL 5.7版本以下部署，可能会导致数据库变更失败的问题
- 【优化】告警屏蔽策略支持周期性的灵活配置
- 【优化】主机监控支持按云区域进行过滤
- 【优化】磁盘使用率的统计不会再计算系统保留空间（与系统原生计算方式保持一致）
- 【优化】检测算法现在支持“不等于”
- 【优化】磁盘IO读写速率支持整块盘采集
- 【优化】拨测详情页添加可用率、响应时间圆环展示图、节点状态展示图
- 【优化】拨测节点管理，节点属性去掉区域依赖
- 【优化】主机性能数据缓存开关支持admin配置，默认不开启
- 【优化】删除组件时，同时删除对应的监控项及监控策略
- 【优化】事件中心默认优先展示未恢复的事件
- 【优化】事件中心日历模式交互优化，去除操作流水展示
- 【优化】进程采集器性能优化
- 【优化】日志采集器存储切换为influxdb、支持跨云采集
- 【优化】主机视图维度，删除不必要的描述
- 【优化】组件监控增加分类筛选框
- 【优化】内置组件监控将存活状态指标置顶
- 【优化】主机监控列表根据上报状态正常优先排序
- 【优化】服务拨测页面展示能力增强
- 【优化】主机详情页、告警增加复制链接
- 【优化】主机列表中进程服务超过多行缩略显示，点击其中进程跳转对应视图
- 【优化】zookeeper组件描述增加性能风险提示
- 【优化】es组件采集配置表单增加默认URL
- 【优化】组件监控支持删除已部署实例
- 【优化】业务管理页面UI优化
- 【优化】事件中心列表模式页面UI优化
- 【优化】主机监控图表展示时的聚合方法由avg改为max
- 【优化】告警模板中，渲染指标值浮点数 过大或者过小 的时候，使用科学计数法渲染导致可读性较差的问题
- 【优化】主机列表展示今日告警数逻辑优化，只统计已通知和通知失败的数量
- 【优化】celery worker数支持在 admin后台配置
- 【优化】后台周期缓存结构优化
- 【优化】后台处理能力优化加速


### 故障自愈

- 【新增】支持业务多级拓扑结构功能
- 【新增】告警源管理页面显示未接入自愈的告警数量- 依赖后台包 5.1.31
- 【修复】套餐页面多次切换套餐编辑保存出现白页面问题
- 【修复】刷新按钮没有加载的情况下也有滚动动画问题出现
- 【修复】自愈详情页面表格样式调整
- 【修复】预警自愈和全业务接入页面更多通知人选项
- 【修复】用户自定义的自愈套餐没生效问题
- 【修复】系统推荐套餐默认为关闭问题
- 【修复】redis集群无法单机部署问题
- 【修复】空闲机池集群问题修复
- 【修复】自愈小助手页面展示样式优化
- 【修复】自愈详情页面模块名称和集群名称模糊匹配
- 【修复】未匹配的告警清洗数据报错导致match无法执行问题
- 【修复】超级管理员权限不生效问题
- 【修复】标准运维链接打开404等问题
- 【修复】 业务拓扑没有上层节点的时候无法选择配置集群信息
- 【修复】保存未匹配的告警时候报redis all dead 错误修复
- 【优化】未匹配的告警根据source_id去重
- 【优化】告警源反馈信息优化
- 【优化】蓝鲸监控拉取的告警set和module名称通过配置平台接口拉取
- 【优化】收敛条件失效的情况下提示用户重新保存编辑
- 【优化】修改zabbix的API的URL
- 【优化】邮箱配置提示信息优化和加载动画优化
- 【优化】邮箱配置帮助信息提示用户配置内网ip正则规则优化
- 【优化】unmatch告警按天来计入到数据库

### 日志检索

- 【新增】支持数据平台V3版本
- 【新增】新建采集项提供一站式数据接入和入口的方式
- 【新增】支持Windows日志采集
- 【新增】可根据CMDB3.0的拓扑结构进行数据接入
- 【新增】支持简单的过滤条件进行日志采集
- 【新增】提供部署过程的日志查询
- 【新增】提供根据采集项快速检索的入口
- 【新增】采集项详情中提供更多的数据相关信息、审计与操作
- 【新增】支持用户自行输入java的编码格式
- 【新增】新增收敛规则的配置
- 【新增】新增“其它”通知人配置
- 【新增】提供更友好的日志查询方式
- 【新增】提供时间选择器以方便按时间维度进行查询
- 【新增】提供高级搜索功能便于用户按字段维度进行查询
- 【新增】提供以当前检索条件快速创建监控项的入口
- 【更新】关键字监控对接监控新API

### 采集器包

- 【新增】uptimecheckbeat新增脚本协议采集功能
- 【新增】windows日志采集器
- 【新增】DB和http采集器
- 【新增】拨测采集器增加https不校验证书选项
- 【优化】basereport在windows系统上, 延长wmi调用超时时间
- 【优化】basereport磁盘使用率计算增加保留盘
- 【优化】basereport上报新增主分区磁盘设备IO
- 【优化】优化不带配置文件的采集器描述
- 【修复】http采集检测解析url编码问题
- 【修复】tomcat采集数据解析异常问题
- 【修复】修复basereport虚拟内存指标采集
- 【修复】修复unifytlogc日志采集器接收数据异常问题


### 标准运维

- 【新增】流程编辑支持一键自动编排，免除手动排版对齐的枯燥工作
- 【新增】新增本地缓存功能，可以随时还原，再也不担心前端编排数据意外丢失了
- 【新增】流程模板、任务记录页面新增查询筛选条件
- 【新增】新建任务节点选择后，删除多余分支或并行与配对的汇聚网关
- 【新增】新建任务、职能化认领预览流程的画布弹窗支持子流程跳转
- 【新增】JOB-快速执行脚本标准插件增加拉取业务脚本和公共脚本功能
- 【新增】JOB标准插件执行完成可以查看执行 IP 和 LOG 详情
- 【新增】流程模板的标准插件节点可以设置失败后是否允许手动跳过和手动重试
- 【新增】新增周期任务功能，可以使用流程模板在新建任务时选择周期执行策略，新建周期任务
- 【新增】新增公共流程功能，管理员用户可以在管理员入口新建全业务可见的流程
- 【新增】JOB-执行作业支持把云参作为输出参数引用到后续的任务节点参数中
- 【新增】新增导入流程模板替换JOB相关ID的接口
- 【新增】JOB-执行作业标准插件展示输出云参
- 【新增】代码架构调整，适配最新版开发框架
- 【新增】流程编辑新增框选功能，可以多选节点并移动、删除、复制粘贴（包含开始、结束节点时不可复制）
- 【新增】业务流程、公共流程新增子流程是否更新的筛选条件
- 【新增】新建任务节点选择阶段新增预览模式，如果流程包含可选节点，用户可以预览调整节点后的流程（不包含网关的流程会自动编排）
- 【新增】数据统计-任务统计新增按时间维度的任务数量趋势图
- 【新增】社区版开放轻应用、职能化、数据统计功能
- 【新增】流程编辑画布添加标准插件个数提示
- 【新增】添加【CMDB-转移主机至空闲机】插件
- 【新增】JOB 执行作业插件允许用户引用 JOB 云参
- 【新增】新增进阶版IP选择器类型的全局变量，支持多种选择IP方式，如通过勾选配置平台多级拓扑树动态获取，或者直接选择静态服务器，获取通过任一拓扑实例名字组合筛选/排除；之前的IP选择器改为IP选择器(简单版)
- 【新增】新增节点回调 API，可以通过该接口继续执行中等待回调的标准插件节点，如BK-暂停、JOB系列插件
- 【新增】在父流程中更新引用的子流程时，保留用户当前编辑输入参数表单的值
- 【新增】轻应用、职能化中心、审计中心页面增加高级搜索功能
- 【新增】任务执行节点树查看按照广度优先排序
- 【新增】数据统计页面拉取所有未下线业务
- 【新增】添加公共流程模板导入 API，支持其他应用通过 API 新建公共流程
- 【新增】新建周期任务时，周期表达式支持通过选择生成，用户可以选择按照分钟、小时、星期、日期、月份等维度循环执行或者指定某些时间点执行
- 【新增】新建任务-参数填写页面添加查看未引用变量功能，用户可以查看属性是显示但是未被执行的节点引用的全局变量
- 【新增】官方插件库新添CMDB-转移主机至业务故障机、CMDB-转移主机至资源池2个插件(感谢社区用户 AllenHolems 贡献)
- 【新增】官方插件库新添JOB-新建定时作业插件(感谢社区用户 chenrb 贡献)
- 【优化】新建全局变量、新建缓存按钮尺寸调小
- 【优化】文本框 textarea 内容超出宽度强制断行
- 【优化】JOB标准插件执行完成后，可以在输出参数中点击任务链接跳转到作业平台
- 【优化】删除流程模板时，提示信息添加引用该流程的流程模板详情
- 【优化】全局变量 KEY 不能以数字开头，提示优化
- 【优化】保存编辑中的流程模板时，增加校验并保存编辑状态的全局变量的步骤，避免数据丢失
- 【优化】周期任务新建后默认启动
- 【优化】周期任务列表页面版权信息贴底
- 【优化】业务中查看的公共流程列表去掉子流程更新字段
- 【优化】周期任务在运行时禁止修改流程的参数
- 【优化】编辑流程模板时，公共属性中类型校验提示在选择类型后隐藏
- 【优化】日期时间变量图标重叠的样式优化
- 【优化】进入管理员入口导航后禁用业务切换
- 【优化】标准运维SaaS部署时默认容器分配内存大小改为 2G
- 【优化】流程编辑、任务执行页面样式重构
- 【优化】职能化中心、审计中心、流程列表、任务列表等表格样式重构，新增高级搜索
- 【优化】JOB-执行作业区分云参和上下文参数，只有云参可以作为输出变量
- 【优化】JOB-执行作业的全局变量参数由通过 id 改为 通过 name 传参，多个JOB-执行作业的全局变量参数名一致可以复用参数
- 【优化】国际化样式优化
- 【优化】首页收藏流程弹框样式优化
- 【优化】数据统计图表中筛选条件的时间选择宽度优化
- 【优化】职能化中心、审计中心、轻应用任务表格样式优化，添加搜索条件
- 【优化】JOB 相关插件更改为 JOB 回调方式
- 【优化】JOB 相关插件拉取 CMDB 信息时不再使用缓存
- 【优化】自定义全局变量改为从后台接口获取，去掉前端的 vue 硬编码
- 【优化】流程编辑中本地缓存表格实现方式改为 table 元素实现，优化页面
- 【优化】查看任务执行参数，需要等待所有参数加载完毕再取消 loading 状态
- 【优化】新建或编辑全局变量时，配置项没有加载完成，禁用保存按钮
- 【优化】获取节点详情及创建任务 API 返回数据新增任务树及任务链接
- 【优化】JOB-执行作业失败后查看 IP 日志详情未展示所有状态的 IP
- 【优化】流程模板导出弹窗页面优化
- 【优化】优化CMDB-故障机替换插件错误信息
- 【优化】不允许用户在已停运业务下进行任何操作
- 【优化】优化流程导入弹窗按钮的文案
- 【优化】禁止业务流程和公共流程交叉导入时保留ID
- 【优化】职能化中心列表所属业务置于第一列，ID改为任务ID并和运维视角保持一样的值
- 【优化】优化执行任务修改参数禁用态中下拉框和文本框的 padding 边距
- 【优化】轻应用页面重构，展示更新人、更新时间、使用权限等更多信息
- 【优化】redis 环境变量配置支持在部署时注入作为默认值，用户在数据库中配置项可以覆盖默认值
- 【优化】新建任务的参数填写、职能化认领页面表格内 textarea 宽度自适应
- 【优化】去掉流程模版本地缓存为空时 hover 底色
- 【优化】执行任务时操作按钮状态切换优化
- 【优化】导出流程弹窗 loading 时，禁用筛选条件下拉框
- 【优化】不允许用户删除已经开始执行且未进入归档状态的任务
- 【优化】页面头部导航左右间距统一
- 【优化】优化 IP 选择器加载样式
- 【优化】日志配置优化，支持本地开发时在 console 中展示请求日志
- 【优化】优化本地开发配置，支持不使用全局变量，直接修改本地代码运行工程
- 【优化】导航栏固定在顶部，不会随着浏览器滚动条下拉而隐藏
- 【优化】新增、编辑周期任务中周期表达式参数前端校验优化
- 【优化】流程编辑中全局变量列表的显示隐藏、输入输出属性改为图标区分
- 【优化】非数据列表页面添加返回按钮，用户可以快速返回到之前的数据列表页面
- 【优化】二级导航的父级允许点击，默认打开二级导航列表的第一项
- 【优化】二级导航列表选中态样式优化
- 【优化】IP 选择器样式多处优化，去掉静态IP选择列表中云区域中多余右括号
- 【优化】导出流程弹窗和编辑周期任务弹窗按钮添加loading效果
- 【修复】修复删除流程模板时提示被引用的流程中包含了已删除的流程的问题
- 【修复】修复删除汇聚网关产生脏数据的问题
- 【修复】修复轻应用 logo 图片超过 100k 时提示信息不展示的问题
- 【修复】修复流程编辑时，任务节点可以连接自身的问题
- 【修复】修复公共流程模板新建任务跳转问题
- 【修复】修复数据统计页面时间选择器样式和时间范围提示不统一的问题
- 【修复】修复JOB-快速执行脚本使用公共脚本时传参错误问题
- 【修复】修复IP选择器点击后自动收缩的问题
- 【修复】修复自动编排标准插件参数丢失的问题
- 【修复】修复职能化人员使用公共流程新建任务报404的问题
- 【修复】修复审计中心查看任务状态链接错误问题
- 【修复】业务首页禁止在轻应用、职能化、审计中心页面触发
- 【修复】修复数据统计外链跳转时业务切换问题
- 【修复】修复标准插件表格参数未保存时，失去焦点后无法再次编辑的问题
- 【修复】修复数据统计部分数据不准确的问题
- 【修复】修复标准插件组合参数校验的问题
- 【修复】修复CMDB系列标准插件拓扑树选择时ID重复导致多个节点被选中的问题
- 【修复】修复同时唤醒并行分支的多个分支时部分子进程卡住的问题
- 【修复】轻应用和职能化入口新建任务去掉周期执行选项
- 【修复】修复日期时间变量图标重叠的样式问题
- 【修复】修复流程编辑中标准插件配置的失败处理tooltip垂直方向错位问题
- 【修复】新建职能化类型任务去掉周期执行选项
- 【修复】修复社区版判断用户角色异常问题
- 【修复】修复引用多选下拉框报错的问题
- 【修复】流程编辑请求标准插件配置项 404 导致页面白屏问题
- 【修复】修复新建任务节点调整后无标准插件节点的分支被误删除的问题
- 【修复】修复 IP 选择器根据拓扑选择不生效的问题
- 【修复】修复公共流程下查看业务相关插件后台返回 500 的问题
- 【修复】修复插件参数中带中文时流程执行错误的问题
- 【修复】修复社区版 JOB 跳转链接不正确的问题
- 【修复】修复在前端数据结构不正确时，创建流程后台返回 500 的问题
- 【修复】修复轻应用 LOGO 获取不到的问题
- 【修复】修复流程统计 - 流程引擎 - 创建任务数不正确的问题
- 【修复】修复用户能够通过轻应用进入标准运维业务首页的问题
- 【修复】修复职能化中心不能正常认领任务的问题
- 【修复】修复流程模板高级搜索栏中无法清空子流程状态的问题
- 【修复】修复打开标准插件时表单可能会不渲染的问题
- 【修复】修复职能化任务记录下任务状态信息样式错误的问题
- 【修复】修复运维在任务列表删除任务后，职能化列表还能看到任务的问题
- 【修复】修复数据统计按标准插件统计分页异常的问题
- 【修复】修复自动排版在流程存在换行的情况下错位的问题
- 【修复】修复用户在没登录过标准运维的情况下无法调用 API 接口的问题
- 【修复】修复周期任务在固定月份和日期时 beat 进程退出的问题
- 【修复】修复任务节点失败后重试时如果参数填写出错，会导致无法通过修改参数再次重试的问题
- 【修复】修复职能化认领页面点击认领按钮页面会重新刷新的问题
- 【修复】修复任务节点执行时间超过一天后耗时计算不正确的问题
- 【修复】修复获取任务流程状态接口 API 返回的节点名与实际节点名不符的问题
- 【修复】修复在 API 中调用 ESB 获取用户信息异常的问题
- 【修复】修复在 get_task_status API 返回的 elapsed_time 为 Float 的问题
- 【修复】修复JOB-快速执行脚本中先选择"公共脚本"或"业务脚本"并勾选到全局变量后，再选择"手工录入"时勾选的全局变量不消失的问题
- 【修复】公共流程模版列表和普通流程模版列表数据源做区分，修复选择业务流程等待表格刷新时切换到公共流程，表格数据是业务流程的问题
- 【修复】修复BK-发送通知插件中邮件通知内容不换行的问题
- 【修复】修复任务执行页面查看任务参数节点树样式错位的问题
- 【修复】修复节点重试取消按钮点击无效问题
- 【修复】修复自定义全局变量为弹窗编辑时，不点开编辑直接保存导致value丢失的问题
- 【修复】修复用户在只有一个已归档业务时访问业务首页返回 500 的问题
- 【修复】修复非运维角色执行任务时无法正确获取业务下拥有运维角色用户的问题
- 【修复】修复获取公共流程列表接口中返回的数据缺少子流程是否更新的问题
- 【修复】修复新建周期任务点击下一步后不跳转的问题
- 【修复】修复下拉框Tag设置多选后default属性不生效的问题
- 【修复】修复无编辑权限的用户可以更新流程模板数据的问题
- 【修复】修复单元测试在使用 sqllite 时第一次 migrate 无法完成的问题
- 【修复】修复任务执行前，修改参数保存后，查看参数节点参数信息不展示问题
- 【修复】修复新建缓存控制台报校验相关错误的问题
- 【修复】修复下拉框表单项搜索结果为空时，选择项被清空问题
- 【修复】修复编辑表格类型参数导致插件参数面板收起的问题
- 【修复】统一管理员入口页面的URL前缀，修复管理员入口页面刷新后默认业务被置空的问题
- 【修复】修复任务执行页面，查看参数中汇聚节点后的插件节点未显示的问题
- 【修复】修复页面中表格翻页后，通过高级搜索查询数据为空的问题
- 【修复】修复职能化页面新建任务弹窗中，清空选择的业务后，流程模板选择项未清空的问题
- 【修复】修复JOB-执行作业输出参数偶现显示其他插件节点已勾选输出参数的问题
- 【修复】修复 JOB 插件回调链接和轻应用访问链接无 BK_PAAS_URL 前缀的错误(V3.3.14引入)
- 【修复】修复数据统计时间筛选条件右侧点展开关闭弹窗击无效的问题
- 【修复】修复数据统计-流程统计列表只展示一条数据的问题
- 【修复】修复V3.1.40之前的版本升级后，已开始但是未完成的任务无法继续操作的问题（如V3.1.39升级到V3.3.15会出现该问题）
- 【修复】修复包含并行分支的流程，在执行任务查看参数时的排序不正确的问题
- 【修复】修复编辑流程时，切换本地缓存记录后标准插件左上角显示失败处理方式的图标消失的问题
- 【修复】修复新建任务未执行时获取不到执行者的问题
- 【修复】修复非运维人员编辑流程模板报错提示弹窗提示登录而不是无权限的问题
- 【修复】修复调用标准运维API报500异常的问题(V3.3.14引入)
- 【修复】修复流程编辑中，打开子流程节点，流程选择下拉框展开时未定位到已选择的子流程的问题
- 【修复】修复分支判断表达式解析不严格，导致形如 "true == true111" 的分值表达式被判断为 True 的问题

